<!--
    Licensed under MIT License 2024, Anoduck, The Anonymous Duck
    https://anoduck.mit-license.org

    Hinode is a creation of The Hinode Team / I.E. Mark Dumay -> Of, which all credit and property rights are due.

    TimelineJS is created by The Knight Labs at The NorthWestern University School of Engineering, for which, all credit and property rights are due.
-->
<!--
    Copyright ï¿½ 2024 The Hinode Team / Mark Dumay. All rights reserved.
    Use of this source code is governed by The MIT License (MIT) that can be found in the LICENSE file.
    Visit gethinode.com/license for more details.
-->

{{/* Set Variables to be used in the shorcode */}}

<!-- Acquire Params -->
{{ $timeleinejs := $.Page.Params.timelinejs }}

<!-- Check for valid arguments -->
{{- $error := false -}}

<!-- Initialize arguments -->
{{- $jsonFile := "" -}}

<!-- Define Variables -->
{{- $jsonFile := .Get "jsonFile" | default "timelinejs.json" -}}

{{/* In this branch we try to load the resources remotely, because getting done is better than perfection at the moment. */}}
<link rel="stylesheet" href="https://cdn.knightlab.com/libs/timeline3/latest/css/timeline.css" integrity="sha384-tsNgcB1c5rl0DaLAKGId4pXHpQnZrA1njWqdAqQ9C4J+w0Ja/RpModKaao0xAVc5" crossorigin="anonymous" type="text/css">
<script src="https://cdn.knightlab.com/libs/timeline3/latest/js/timeline.js" integrity="sha384-utoaM+Jap71NQCPS1ARBOcZxgE5B3UKgHaD95qJdS5ERHbS8zNwXN8oBHkLSNkQX" crossorigin="anonymous" type="text/javascript"></script>

<!-- Inject div element -->
{{/* This "Div" element is where the timeline will be rendered on page. */}}
<div id="timeline-content"></div>

{{/* This script should be rendered directly after the div tag. */}}
<script type="text/javascript">
{{/* This instantiates the timeline */}}
document.addEventListener("DOMContentLoaded", function() {
    window.timeline = new TL.Timeline(
            'timeline-content',
        {{ with $jsonFile }}
            '{{ . }}')
        {{ end }}
});
</script>
