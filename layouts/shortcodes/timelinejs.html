{{/* Set Variables to be used in the shorcode */}}

<!-- Initialize arguments -->
{{/* {{- $blockId := "" -}}
{{- $jsonFile := "" -}} */}}

{{/* {{- if .IsNamedParams -}}
    {{- $blockId := .Get "blockId" | default "timeline-element" -}}
    {{- $jsonFile := .Get "jsonFile" | default "/timelinejs.json" -}}
{{- else -}}
    {{- $jsonFile = .Get 0 -}}
{{- end -}} */}}

{{- $blockId := .Get "blockId" | default "timeline-element" -}}
{{- $jsonFile := .Get "jsonFile" | default "/timelinejs.json" -}}

<link title="timeline-styles" rel="stylesheet" href="/timeline.css">
<script src="/js/timeline.js"></script>

{{/* This "Div" element is where the timeline will be rendered on page. */}}
{{ with $blockId }}
    <div id="{{ . }}" style="width: 100%; height: 600px"></div>
{{ end }}

{{/* This script should be rendered directly after the div tag. */}}
<script>
{{/* This instantiates the timeline */}}
document.addEventListener("DOMContentLoaded", function() {
    window.timeline = new TL.Timeline(
        {{ with $blockId }}
            '{{ . }}',
        {{ end }}
        {{ with $jsonFile }}
            '{{ . }}'
        {{ end }}
    )
});
</script>
